<!-- Hero Section -->
<div class="hero-section">
  <div class="hero-content">
    <h1 class="hero-title">Shopping Cart</h1>
    <p class="hero-subtitle">Review your items and proceed to checkout</p>
  </div>
</div>

<div class="container">
  <div class="cart-empty" *ngIf="cartItems.length === 0">
    <h2>Your cart is empty</h2>
    <p>Add some items to get started!</p>
    <button class="btn btn-primary" routerLink="/product">Browse Products</button>
  </div>
  
  <div class="cart-items" *ngIf="cartItems.length > 0 && !showCheckoutForm">
    <div class="cart-item" *ngFor="let item of cartItems">
      <img [src]="getProductImage(item.product.imageFile)" [alt]="item.product.name" class="item-image">
      <div class="item-details">
        <h3>{{ item.product.name }}</h3>
        <p class="item-description">{{ item.product.description }}</p>
        <p class="item-price">{{ priceFormatService.formatPrice(item.product.price) }}</p>
        <div class="quantity-controls">
          <button (click)="decreaseQuantity(item)" class="btn-quantity">-</button>
          <span class="quantity">{{ item.quantity }}</span>
          <button (click)="increaseQuantity(item)" class="btn-quantity">+</button>
        </div>
      </div>
      <div class="item-total">
        <p class="total-price">₱{{ getItemTotal(item) }}</p>
        <button (click)="removeItem(item)" class="btn-remove">Remove</button>
      </div>
    </div>
    
    <div class="cart-summary">
      <h3>Order Summary</h3>
      <div class="summary-row">
        <span>Subtotal:</span>
        <span>₱{{ getSubtotal() }}</span>
      </div>
      <div class="summary-row">
        <span>Tax (8%):</span>
        <span>₱{{ getTax() }}</span>
      </div>
      <div class="summary-row total">
        <span>Total:</span>
        <span>₱{{ getTotal() }}</span>
      </div>
      <button class="btn btn-primary btn-large" (click)="proceedToCheckout()">Proceed to Checkout</button>
    </div>
  </div>

  <!-- Checkout Form -->
  <div class="checkout-form" *ngIf="showCheckoutForm">
    <h2>Checkout</h2>
    
    <div class="order-summary-checkout">
      <h3>Order Summary: {{ cartItems.length }} item(s)</h3>
      <p><strong>Total: ₱{{ getTotal() }}</strong></p>
    </div>

    <form (ngSubmit)="submitOrder()">
      <div class="form-group">
        <label for="customerName">Full Name *</label>
        <input type="text" id="customerName" name="customerName" 
               [(ngModel)]="customerName" required class="form-control">
      </div>

      <div class="form-group">
        <label for="customerEmail">Email *</label>
        <input type="email" id="customerEmail" name="customerEmail" 
               [(ngModel)]="customerEmail" required class="form-control">
      </div>

      <div class="form-group">
        <label for="customerPhone">Phone Number</label>
        <input type="tel" id="customerPhone" name="customerPhone" 
               [(ngModel)]="customerPhone" class="form-control">
      </div>

      <div class="form-group">
        <label for="customerAddress">Shipping Address</label>
        <textarea id="customerAddress" name="customerAddress" 
                  [(ngModel)]="customerAddress" rows="3" class="form-control"></textarea>
      </div>

      <div class="form-actions">
        <button type="button" class="btn btn-secondary" (click)="cancelCheckout()">
          Back to Cart
        </button>
        <button type="submit" class="btn btn-primary">
          Place Order - ₱{{ getTotal() }}
        </button>
      </div>
    </form>
  </div>
</div>
